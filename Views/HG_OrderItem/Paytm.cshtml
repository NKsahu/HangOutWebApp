@using paytm;
@{
    Layout = null;

    String merchantKey = "O&yB4HRdQ0vcb9XBrI";
    Dictionary<string, string> parameters = new Dictionary<string, string>();
    parameters.Add("MID", "foodDo62634269971979");
    parameters.Add("ORDER_ID", "sdfgdsfgdfgdffgdfg");
    parameters.Add("CUST_ID", "545");
    parameters.Add("INDUSTRY_TYPE_ID", "Retail105");
    parameters.Add("CHANNEL_ID", "WAP");
    parameters.Add("TXN_AMOUNT", "1.00");
    parameters.Add("WEBSITE", "DEFAULT");
    parameters.Add("EMAIL", "");
   // parameters.Add("MOBILE_NO", "");
    parameters.Add("CALLBACK_URL", "https://securegw.paytm.in/theia/paytmCallback?ORDER_ID=sdfgdsfgdfgdffgdfg");
    string checksum = CheckSum.generateCheckSum(merchantKey, parameters);
   // bool status = CheckSum.verifyCheckSum(merchantKey, parameters, checksum);

    string paytmURL = "https://securegw-stage.paytm.in/theia/processTransaction?orderid=gdfgdfgdfgdfgdfg765675458";
    string outputHTML = "<html>";
    outputHTML += "<head>";
    outputHTML += "<title> Merchant Check Out Page </title> ";
    outputHTML += "</head>";
    outputHTML += "<body>";
    outputHTML += "<center><h1>Please do not refresh this page...</h1></center>";
    outputHTML += "<form method='post' action='" + paytmURL + "' name='f1'>";
    outputHTML += "<table border='1'>";
    outputHTML += "<tbody>";
    foreach (string key in parameters.Keys)
    {
        outputHTML += "<input type ='hidden' name = '" + key + "' value = '" + parameters[key] + "' > ";

    }
    outputHTML += " <input type ='hidden' name = 'CHECKSUMHASH' value = '" + checksum + "' > ";
    outputHTML += "</tbody> ";
    outputHTML += "</table> ";
    outputHTML += "<script type = 'text/javascript'>";
    outputHTML += "document.f1.submit();";
    outputHTML += "</script>";
    outputHTML += "</form > ";
    outputHTML += "</body > ";
    outputHTML += "</html > ";
    Response.Write(outputHTML);

}